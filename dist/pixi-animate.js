/*!
 * @pixi/animate - v2.0.5
 * Compiled Thu, 23 Feb 2023 12:30:05 UTC
 *
 * @pixi/animate is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 * 
 * Copyright 2023, undefined, All Rights Reserved
 */this.PIXI=this.PIXI||{},this.PIXI.animate=function(_,et,it,rt,nt,N,at,E,M,ot,ht,lt,ct){"use strict";let k=null;_.utils=void 0,(e=>{function t(u){return u=u.substr(1),u.length===3&&(u=u.replace(/([a-f0-9])/g,"$1$1")),parseInt(u,16)}e.hexToUint=t;function s(u,p,m){const f=u.length;if(f<p+m&&(u.length=p+m,f<p))if(u.fill)u.fill(!1,f,p);else for(let g=f;g<p;++g)u[g]=!1;if(u.fill)u.fill(!0,p,p+m);else{const g=u.length;for(let d=p;d<g;++d)u[d]=!0}}e.fillFrames=s;const i={X:"x",Y:"y",A:"sx",B:"sy",C:"kx",D:"ky",R:"r",L:"a",T:"t",F:"c",V:"v"};function r(u,p){switch(u){case"c":{const m=p.split(",");return m.forEach((f,g,d)=>{d[g]=parseFloat(f)}),m}case"t":return p;case"v":return!!parseInt(p,10);default:return parseFloat(p)}}const n={D:"d",P:"p"},h=/(\-?\d*\.?\d*)([a-zA-Z]+)/;function a(u){const p={d:0,p:{}};let m=0,f="",g=!1,d;for(;m<=u.length;){const b=u[m];if(!g&&(n[d]||n[b]))d==="d"&&(p.d=r(d,f),d=null),b==="P"?(g=!0,++m):(d=n[b],++m),f="";else if(b==="E"){let F=u.indexOf(";",m);F<0&&(F=u.length);const x=u.substring(m+1,F);if(h.test(x)){const[,tt,st]=h.exec(x);g?d&&(p.p[d]=r(d,f),p.p.e||(p.p.e={}),p.p.e[d]={s:parseFloat(tt),n:st},d=null,f=""):p.e={s:parseFloat(tt),n:st}}m=F+1}else i[b]?(d&&(p.p[d]=r(d,f)),d=i[b],f="",m++):b?(f+=b,m++):(d&&(p.p[d]=r(d,f)),f="",d=null,m++)}return p}function l(u){const p={};let m=0,f="",g=!1,d,b={};for(;m<=u.length;){const F=u[m];if(i[F])g||(g=!0,p[f]=b),d&&(b[d]=r(d,f)),d=i[F],f="",m++;else if(F==="W"){g||(g=!0,p[f]=b),d&&(b[d]=r(d,f),f="",d=null);let x=u.indexOf(" ",m);x<0&&(x=u.length),b.tw=a(u.substring(m+1,x)),m=x}else!F||F===" "?(m++,d&&(b[d]=r(d,f)),f="",d=null,b={},g=!1):(f+=F,m++)}return p}e.deserializeKeyframes=l;function o(u){const p=[],m=u.split(`
`),f=/^[a-z]{1,2}$/;for(let g=0;g<m.length;g++){const d=m[g].split(" ");for(let b=0;b<d.length;b++){const F=d[b];F[0]!=="#"&&!f.test(F)&&(d[b]=parseFloat(F))}p.push(d)}return p}e.deserializeShapes=o;function c(u){if(u.isMovieClip){const p=u;return p._timedChildTimelines.forEach(m=>{p.children.indexOf(m.target)===-1&&(k==null||k.add(m.target))}),!0}return!1}e.addMovieClips=c;function T(u,p,m){k||(k=u.plugins.prepare,k.registerFindHook(c)),k==null||k.upload(p).then(m)}e.upload=T})(_.utils||(_.utils={}));const U=2;function H(e,t){const s=typeof t=="function"?t:t==null?void 0:t.complete;let i="",r=null,n,h=!1;const{version:a}=e;typeof a=="number"&&(Math.floor(a)!==Math.floor(U)?console.warn(`Asset version is not the major version expected of ${Math.floor(U)} - it may not load properly`,e):a>U&&console.warn("Asset has been published with a newer version than PixiAnimate expects. It may not load properly.",e)),t&&typeof t!="function"&&(i=t.basePath||"",r=t.parent,n=t.metadata,h=!!t.createInstance);function l(){const c=h&&typeof e.stage=="function"?new e.stage:null;r&&c&&r.addChild(c),s&&s(c)}const o=e.assets||{};if(o&&Object.keys(o).length){const c=[];i&&(i+="/");for(const T in o){let u=null;n&&(n[T]?u=n[T]:n.default&&(u=n.default)),c.push(et.Assets.load({alias:[T],src:i+o[T],data:u}).then(p=>{if(p){if(p instanceof rt.Spritesheet)e.spritesheets.push(p);else if(p instanceof it.Texture)e.textures[T]=p;else if(Array.isArray(p)||typeof p=="string"){let m=p;typeof m=="string"&&(m=_.utils.deserializeShapes(m));for(let f=0;f<m.length;f++){const g=m[f];for(let d=0;d<g.length;d++){const b=g[d];typeof b=="string"&&b[0]==="#"&&(g[d]=_.utils.hexToUint(b))}}e.shapes[T]=m}}}))}Promise.all(c).then(l)}else l()}const $=new nt.EventEmitter;function S(e,t,s){return e+(t-e)*s}const y=Math.PI,w=y*2;function ut(e,t,s){return Math.abs(t-e)>y&&(t>e?e+=w:t+=w),e+(t-e)*s}function Y(e,t,s){Math.abs(t-e)>y&&(t>e?e+=w:t+=w);const i=e+(t-e)*s;return i>y?i-w:i<-y?i+w:i}function dt(e,t,s){const i=e>>16&255,r=e>>8&255,n=e&255,h=t>>16&255,a=t>>8&255,l=t&255;let o=i+(h-i)*s;o<0?o=0:o>255&&(o=255);let c=r+(a-r)*s;c<0?c=0:c>255&&(c=255);let T=n+(l-n)*s;return T<0?T=0:T>255&&(T=255),o<<16|c<<8|T}const I=[];function pt(e,t,s){return I[0]=e[0]+(t[0]-e[0])*s,I[1]=e[1]+(t[1]-e[1])*s,I[2]=e[2]+(t[2]-e[2])*s,I[3]=e[3]+(t[3]-e[3])*s,I[4]=e[4]+(t[4]-e[4])*s,I[5]=e[5]+(t[5]-e[5])*s,I}const mt={x:S,y:S,sx:S,sy:S,kx:Y,ky:Y,r:ut,a:S,t:dt,v:null,c:pt,m:null,g:null};function G(e,t,s){switch(t){case"x":e.transform.position.x=s;break;case"y":e.transform.position.y=s;break;case"sx":e.transform.scale.x=s;break;case"sy":e.transform.scale.y=s;break;case"kx":e.transform.skew.x=s;break;case"ky":e.transform.skew.y=s;break;case"r":e.transform.rotation=s;break;case"a":e.alpha=s;break;case"t":e.i(s);break;case"c":e.setColorTransform(...s);break;case"v":e.visible=s;break;case"m":e.ma(s);break}}function L(e){return t=>Math.pow(t,e)}function R(e){return t=>1-Math.pow(1-t,e)}function D(e){return t=>(t*=2)<1?.5*Math.pow(t,e):1-.5*Math.abs(Math.pow(2-t,e))}const v=1,j=.3,z=.3*1.5,X={quadIn:L(2),quadOut:R(2),quadInOut:D(2),cubicIn:L(3),cubicOut:R(3),cubicInOut:D(3),quartIn:L(4),quartOut:R(4),quartInOut:D(4),quintIn:L(5),quintOut:R(5),quintInOut:D(5),sineIn:e=>1-Math.cos(e*y/2),sineOut:e=>Math.sin(e*y/2),sineInOut:e=>-.5*(Math.cos(y*e)-1),backIn:e=>e*e*((1.7+1)*e-1.7),backOut:e=>--e*e*((1.7+1)*e+1.7)+1,backInOut:e=>(e*=2)<1?.5*(e*e*((2.5925+1)*e-2.5925)):.5*((e-=2)*e*((2.5925+1)*e+2.5925)+2),circIn:e=>-(Math.sqrt(1-e*e)-1),circOut:e=>Math.sqrt(1- --e*e),circInOut:e=>(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),bounceIn:e=>1-X.bounceOut(1-e),bounceOut:e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,bounceInOut:e=>e<.5?X.bounceIn(e*2)*.5:X.bounceOut(e*2-1)*.5+.5,elasticIn:e=>{if(e===0||e===1)return e;const t=j/w*Math.asin(1/v);return-(v*Math.pow(2,10*(e-=1))*Math.sin((e-t)*w/j))},elasticOut:e=>{if(e===0||e===1)return e;const t=j/w*Math.asin(1/v);return v*Math.pow(2,-10*e)*Math.sin((e-t)*w/j)+1},elasticInOut:e=>{const t=z/w*Math.asin(1/v);return(e*=2)<1?-.5*(v*Math.pow(2,10*(e-=1))*Math.sin((e-t)*w/z)):v*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*w/z)*.5+1}};function V(e){if(!e)return null;if(typeof e=="function")return e;if(e.n==="classic"){const t=e.s/100;return s=>(t+1)*s+-t*s*s}return X[e.n]}class O{constructor(t,s,i,r,n,h){var a;if(this.target=t,this.startProps=s,this.endProps={},this.duration=n,this.startFrame=r,this.endFrame=r+n,this.ease={},this.isTweenlessFrame=!i,i)for(const l in i)l!=="e"&&(this.endProps[l]=i[l],(a=i.e)!=null&&a[l]?this.ease[l]=V(i.e[l]):this.ease[l]=h);for(const l in s)this.endProps.hasOwnProperty(l)||(this.endProps[l]=s[l])}setPosition(t){if(t>=this.endFrame){this.setToEnd();return}if(this.isTweenlessFrame){this.setToEnd();return}const s=(t-this.startFrame)/this.duration,i=this.target,r=this.startProps,n=this.endProps;for(const h in n){const a=h,l=mt[a];let o=s;this.ease[h]&&(o=this.ease[h](s)),l?G(i,a,l(r[a],n[a],o)):G(i,a,r[a])}}setToEnd(){const t=this.endProps,s=this.target;for(const i in t)G(s,i,t[i])}}class q extends Array{constructor(){super()}static create(t){const s=Object.create(q.prototype);return s.target=t,s._currentProps={},s}addTween(t,s,i,r){this.extendLastFrame(s-1);const n=Object.assign({},this._currentProps);for(const a in t){const l=a;if(!Object.hasOwnProperty.call(this._currentProps,a)){const o=n[l]=this.getPropFromShorthand(l);for(let c=this.length-1;c>=0;--c)this[c].startProps[l]=o,this[c].endProps[l]=o}}const h=new O(this.target,n,t,s,i,r);s===this[this.length-1].startFrame?this[this.length-1]=h:this.push(h),Object.assign(this._currentProps,h.endProps)}addKeyframe(t,s,i=0){if(this.length&&this[this.length-1].startFrame>=s){for(let r=this.length-1;r>=0;--r){const n=this[r];if(n.startFrame===s){Object.assign(n.startProps,t),n.endProps=Object.assign({},n.startProps,n.endProps);for(let h=r+1;h<this.length;++h){const a=this[h];a.startProps=Object.assign({},t,a.startProps),a.endProps=Object.assign({},a.startProps,a.endProps)}break}else if(n.startFrame<s&&n.endFrame>s&&n.isTweenlessFrame){n.endFrame=s-1;const h=Object.assign({},n.endProps,t),a=new O(this.target,h,null,s,i);this.splice(r,0,a);for(let l=r+1;l<this.length;++l){const o=this[l];o.startProps=Object.assign({},t,o.startProps),o.endProps=Object.assign({},o.startProps,o.endProps)}break}else if(n.endFrame<s){const h=Object.assign({},n.endProps,t),a=new O(this.target,h,null,s,i);this.splice(r,0,a);for(let l=r+1;l<this.length;++l){const o=this[l];o.startProps=Object.assign({},t,o.startProps),o.endProps=Object.assign({},o.startProps,o.endProps)}break}}Object.assign(this._currentProps,t,this._currentProps)}else{this.extendLastFrame(s-1);const r=Object.assign({},this._currentProps,t),n=new O(this.target,r,null,s,i);this.push(n),Object.assign(this._currentProps,n.endProps)}}extendLastFrame(t){if(this.length){const s=this[this.length-1];s.endFrame<t&&(s.isTweenlessFrame?(s.endFrame=t,s.duration=t-s.startFrame):this.addKeyframe(this._currentProps,s.endFrame+1,t-(s.endFrame+1)))}}getPropFromShorthand(t){const s=this.target;switch(t){case"x":return s.position.x;case"y":return s.position.y;case"sx":return s.scale.x;case"sy":return s.scale.y;case"kx":return s.skew.x;case"ky":return s.skew.y;case"r":return s.rotation;case"a":return s.alpha;case"v":return s.visible;case"m":return s.mask}return null}destroy(){this._currentProps=null,this.length=0}}class J extends at.Container{constructor(){super(...arguments),this.ac=super.addChild,this.re=this.setRenderable,this.t=super.setTransform,this.ma=this.setMask,this.a=this.setAlpha,this.i=this.setTint,this.c=this.setColorTransform}setRenderable(t){return this.renderable=!!t,this}setMask(t){return t&&!(t instanceof E.Graphics)&&!(t instanceof M.Sprite)?(typeof console!="undefined"&&console.warn&&console.warn("Warning: Masks can only be PIXI.Graphics or PIXI.Sprite objects."),this):(this.mask=t,this)}setAlpha(t){return this.alpha=t,this}setTint(t){typeof t=="string"&&(t=_.utils.hexToUint(t));const s=t>>16&255,i=t>>8&255,r=t&255;return this.setColorTransform(s/255,0,i/255,0,r/255,0)}setColorTransform(t,s,i,r,n,h){const a=this.colorTransformFilter;return a.matrix[0]=t,a.matrix[4]=s,a.matrix[6]=i,a.matrix[9]=r,a.matrix[12]=n,a.matrix[14]=h,this.filters=[a],this}set colorTransformFilter(t){this._colorTransformFilter=t}get colorTransformFilter(){return this._colorTransformFilter||new N.ColorMatrixFilter}}const B=ot.Ticker.shared,P=class extends J{constructor(t,s,i,r,n){if(super(),this.isMovieClip=!0,this.am=this.addTimedMask,this.tw=this.addTween,this.at=this.addTimedChild,this.aa=this.addAction,this.ps=this.playSound,t=t===void 0?{}:t,typeof t=="number"?t={mode:t||P.INDEPENDENT,duration:s||0,loop:i===void 0?!0:i,labels:n||{},framerate:r||0,startPosition:0}:t=Object.assign({mode:P.INDEPENDENT,startPosition:0,loop:!0,labels:{},duration:0,framerate:0},t),this.mode=t.mode,this.startPosition=t.startPosition,this.loop=!!t.loop,this.currentFrame=0,this._labels=[],this._labelDict=t.labels,t.labels){for(const h in t.labels){const a={label:h,position:t.labels[h]};this._labels.push(a)}this._labels.sort((h,a)=>h.position-a.position)}this.selfAdvance=!0,this.paused=!1,this.actionsEnabled=!0,this.autoReset=!0,this._synchOffset=0,this._prevPos=-1,this._t=0,this._framerate=t.framerate,this._duration=0,this._totalFrames=t.duration,this._timelines=[],this._timedChildTimelines=[],this._depthSorted=[],this._actions=[],this._beforeUpdate=null,this.parentStartPosition=0,this.mode===P.INDEPENDENT&&(this._tickListener=this._tickListener.bind(this),this._onAdded=this._onAdded.bind(this),this._onRemoved=this._onRemoved.bind(this),this.on("added",this._onAdded),this.on("removed",this._onRemoved)),t.framerate&&(this.framerate=t.framerate),this.advance=this.advance,this._updateTimeline=this._updateTimeline,this._setTimelinePosition=this._setTimelinePosition,this._goto=this._goto}_onAdded(){this._framerate||(this.framerate=this.parentFramerate),B.add(this._tickListener,null)}_tickListener(t){if(this.paused||!this.selfAdvance){this._prevPos<0&&this._goto(this.currentFrame);return}const s=t/ht.settings.TARGET_FPMS/1e3;this.advance(s)}_onRemoved(){B.remove(this._tickListener,null)}get labels(){return this._labels}get labelsMap(){return this._labelDict}get currentLabel(){const t=this._labels;let s=null;for(let i=0,r=t.length;i<r&&t[i].position<=this.currentFrame;++i)s=t[i].label;return s}get elapsedTime(){return this._t}set elapsedTime(t){this._t=t}get framerate(){return this._framerate}set framerate(t){t>0?(this._framerate?this._t*=this._framerate/t:this._t=this.currentFrame/t,this._framerate=t,this._duration=t?this._totalFrames/t:0):this._t=this._framerate=this._duration=0}get totalFrames(){return this._totalFrames}_autoExtend(t){this._totalFrames<t&&(this._totalFrames=t)}_parseProperties(t){typeof t.t=="string"?t.t=_.utils.hexToUint(t.t):typeof t.v=="number"&&(t.v=!!t.v)}_getChildTimeline(t){for(let i=this._timelines.length-1;i>=0;--i)if(this._timelines[i].target===t)return this._timelines[i];const s=q.create(t);return this._timelines.push(s),s}addTimedMask(t,s){for(const i in s)this.addKeyframe(t,{m:s[i]},parseInt(i,10));return this._setTimelinePosition(this.currentFrame,this.currentFrame,!0),this}addTween(t,s,i,r,n){const h=this._getChildTimeline(t);return this._parseProperties(s),h.addTween(s,i,r,n),this._autoExtend(i+r),this}addKeyframe(t,s,i){const r=this._getChildTimeline(t),{tw:n}=s;return delete s.tw,this._parseProperties(s),r.addKeyframe(s,i),this._autoExtend(i),n&&this.addTween(t,n.p,i,n.d,V(n.e)),this}addTimedChild(t,s,i,r){var n,h;s===void 0&&(s=0),(i===void 0||i<1)&&(i=this._totalFrames||1),t instanceof P&&t.mode===P.SYNCHED&&(t.parentStartPosition=s);let a;for(let l=this._timedChildTimelines.length-1;l>=0;--l)if(this._timedChildTimelines[l].target===t){a=this._timedChildTimelines[l];break}if(a||(a=[],a.target=t,this._timedChildTimelines.push(a)),_.utils.fillFrames(a,s,i),this._totalFrames<s+i&&(this._totalFrames=s+i),r){typeof r=="string"&&(r=_.utils.deserializeKeyframes(r));let l=!1;for(const o in r)if(r[o].kx||r[o].ky){l=!0;break}if(l)for(const o in r)r[o].r!==void 0&&(r[o].kx=r[o].kx||r[o].r*-1,r[o].ky=r[o].ky||r[o].r,delete r[o].r),((h=(n=r[o].tw)==null?void 0:n.p)==null?void 0:h.r)!==void 0&&(r[o].tw.p.kx=r[o].tw.p.kx||r[o].tw.p.r*-1,r[o].tw.p.ky=r[o].tw.p.ky||r[o].tw.p.r,delete r[o].tw.p.r);for(const o in r)this.addKeyframe(t,r[o],parseInt(o,10));this._getChildTimeline(t).extendLastFrame(s+i-1)}return this._setTimelinePosition(s,this.currentFrame,!0),this}addAction(t,s){if(typeof s=="string"){const r=this._labelDict[s];if(r===void 0)throw new Error(`The label '${s}' does not exist on this timeline`);s=r}const i=this._actions;return i.length<=s&&(i.length=s+1),this._totalFrames<s&&(this._totalFrames=s),i[s]?i[s].push(t):i[s]=[t],this}playSound(t,s){return $.emit("play",t,!!s,this),this}play(){this.paused=!1}stop(){this.paused=!0}gotoAndPlay(t){this.paused=!1,this._goto(t)}gotoAndStop(t){this.paused=!0,this._goto(t)}get parentFramerate(){let t=this,s=t._framerate;for(;(t=t.parent)&&!s;)t.mode===P.INDEPENDENT&&(s=t._framerate);return s||P.DEFAULT_FRAMERATE}advance(t){this._framerate||(this.framerate=this.parentFramerate),t&&(this._t+=t),this._t>this._duration&&(this._t=this.loop?this._t%this._duration:this._duration),this.currentFrame=Math.floor(this._t*this._framerate+1e-8),this.currentFrame>=this._totalFrames&&(this.currentFrame=this._totalFrames-1);let s;this._beforeUpdate&&(s=this._beforeUpdate(this)),this._updateTimeline(),s&&s()}_goto(t){const s=typeof t=="string"?this._labelDict[t]:t;s!==void 0&&(this._prevPos=NaN,this.currentFrame=s,this._framerate||(this.framerate=this.parentFramerate),this._framerate>0?this._t=s/this._framerate:this._t=0,this._updateTimeline())}_reset(){this._prevPos=-1,this._t=0,this.currentFrame=0}_updateTimeline(){const t=this.mode!==P.INDEPENDENT;t&&(this.currentFrame=this.startPosition+(this.mode===P.SINGLE_FRAME?0:this._synchOffset),this.currentFrame>=this._totalFrames&&(this.currentFrame%=this._totalFrames)),this._prevPos!==this.currentFrame&&(this._setTimelinePosition(this._prevPos,this.currentFrame,t?!1:this.actionsEnabled),this._prevPos=this.currentFrame)}_setTimelinePosition(t,s,i){if(t!==s&&i){let l;isNaN(t)?l=s:l=t>=this._totalFrames-1?0:t+1;const o=[];if(s<l){for(let c=l;c<this._actions.length;++c)this._actions[c]&&o.push(c);for(let c=0;c<=s;++c)this._actions[c]&&o.push(c)}else for(let c=l;c<=s;++c)this._actions[c]&&o.push(c);if(o.length){const c=this.currentFrame;for(let T=0;T<o.length;++T){const u=o[T];if(this._setTimelinePosition(u,u,!0),this.currentFrame!==c||u===s)return;if(this.paused){this.currentFrame=u;return}}}}const r=this._timelines;for(let l=r.length-1;l>=0;--l){const o=r[l];for(let c=0,T=o.length;c<T;++c){const u=o[c];if(s>=u.startFrame&&s<=u.endFrame){u.setPosition(s);break}}}const n=this._timedChildTimelines,h=this._depthSorted;for(let l=0,o=n.length;l<o;++l){const c=n[l].target,T=n[l][s];T?(h.push(c),c.parent!==this&&(this.addChild(c),c instanceof P&&c.mode===P.INDEPENDENT&&c.autoReset&&c._reset())):!T&&c.parent===this&&this.removeChild(c)}for(let l=0,o=h.length;l<o;l++){const c=h[l];this.children.indexOf(c)!==l&&this.addChildAt(c,l)}h.length=0;const a=this.children;for(let l=0,o=a.length;l<o;++l){const c=a[l];c instanceof P&&c.mode===P.SYNCHED&&(c._synchOffset=s-c.parentStartPosition,c._updateTimeline())}if(i&&this._actions&&this._actions[s]){const l=this._actions[s];for(let o=0;o<l.length;++o)l[o].call(this)}}destroy(t){this._tickListener&&(B.remove(this._tickListener,null),this._tickListener=null);const s=[],i=this._timelines;if(i)for(let n=0;n<i.length;n++){const h=i[n];s.push(h.target),h.destroy()}const r=this._timedChildTimelines;if(r)for(let n=0;n<r.length;n++){const h=r[n];s.indexOf(h.target)<0&&s.push(h.target),h.length=0}for(let n=0;n<s.length;n++)this.children.indexOf(s[n])<0&&s[n].destroy(t);s.length=0,this._actions=null,this._timelines=null,this._depthSorted=null,this._timedChildTimelines=null,this._beforeUpdate=null,this._labels=null,this._labelDict=null,super.destroy(t)}};let A=P;A.INDEPENDENT=0,A.SINGLE_FRAME=1,A.SYNCHED=2,A.DEFAULT_FRAMERATE=24;class ft extends lt.Application{constructor(){super(...arguments),this.sound=$,this.instance=null}load(t,s,i){return H(t,{parent:this.stage,createInstance:!0,complete:r=>{this.instance=r,s&&s(this.instance)},basePath:i})}destroy(t,s){this.instance&&(this.instance.destroy(!0),this.instance=null),super.destroy(t,s)}}const _t=[];class C{constructor(){this._update=this.update.bind(this),this.init(null,0,0,!1,null)}init(t,s,i,r,n){this.instance=t,this.loop=r,this.start=s,this.end=i,this.callback=n,t&&(t.loop=!1,t.gotoAndStop(s),t._beforeUpdate=this._update)}destroy(){this.instance._beforeUpdate=null,this.init(null,0,0,!1,null),C._pool.push(this)}update(t){let s;return t.currentFrame>=this.end&&(t.currentFrame=this.end,this.loop?(t._updateTimeline(),t.gotoAndPlay(this.start)):(t.stop(),this.callback&&(s=this.callback),this.stop())),s}stop(){Z._internalStop(this)}get progress(){const t=(this.instance.currentFrame-this.start)/(this.end-this.start);return Math.max(0,Math.min(1,t))}static get _pool(){return _t}static create(t,s,i,r,n){let h;return this._pool.length?h=this._pool.pop():h=new C,h.init(t,s,i,r,n),h}}const gt=[];class Z{static get _timelines(){return gt}static get STOP_LABEL(){return"_stop"}static get LOOP_LABEL(){return"_loop"}static play(t,s,i){let r=!1,n,h;if(!s||typeof s=="function")n=0,h=t.totalFrames-1,s&&typeof s=="function"&&(i=s,s=null);else{if(n=t.labelsMap[s],h=t.labelsMap[s+this.STOP_LABEL],h===void 0&&(h=t.labelsMap[s+this.LOOP_LABEL],r=!0),n===void 0)throw new Error(`No start label matching "${s}"`);if(h===void 0)throw new Error(`No end label matching "${s}"`)}return this.fromTo(t,n,h,r,i)}static to(t,s,i){return this.fromTo(t,t.currentFrame,s,!1,i)}static fromTo(t,s,i,r,n){if(typeof s=="string"){const a=s;if(s=t.labelsMap[a],s===void 0)throw new Error(`No start label matching "${a}"`)}if(typeof i=="string"){const a=i;if(i=t.labelsMap[a],i===void 0)throw new Error(`No end label matching "${a}"`)}if(s<0)throw new Error("Start frame is out of bounds");if(i>=t.totalFrames)throw new Error("End frame is out of bounds");if(s>=i)throw new Error("End frame is before start frame");this.stop(t),r=!!r;const h=C.create(t,s,i,r,n);return this._timelines.push(h),t.currentFrame!==s?t.gotoAndPlay(s):t.play(),h}static stop(t){for(let s=0,i=this._timelines.length;s<i;s++){const r=this._timelines[s];if(r.instance===t){this._internalStop(r);break}}}static stopAll(){for(let t=this._timelines.length-1;t>=0;t--)this._internalStop(this._timelines[t])}static _internalStop(t){this._timelines.splice(this._timelines.indexOf(t),1),t.instance.stop(),t.destroy()}}class bt extends M.Sprite{constructor(){super(...arguments),this.re=this.setRenderable,this.t=super.setTransform,this.ma=this.setMask,this.a=this.setAlpha,this.i=this.setTint,this.c=this.setColorTransform}setRenderable(t){return this.renderable=!!t,this}setMask(t){return t&&!(t instanceof E.Graphics)&&!(t instanceof M.Sprite)?(typeof console!="undefined"&&console.warn&&console.warn("Warning: Masks can only be PIXI.Graphics or PIXI.Sprite objects."),this):(this.mask=t,this)}setAlpha(t){return this.alpha=t,this}setTint(t){return typeof t=="string"&&(t=_.utils.hexToUint(t)),this.tint=t,this}setColorTransform(t,s,i,r,n,h){const a=this.colorTransformFilter;return a.matrix[0]=t,a.matrix[4]=s,a.matrix[6]=i,a.matrix[9]=r,a.matrix[12]=n,a.matrix[14]=h,this.filters=[a],this}set colorTransformFilter(t){this._colorTransformFilter=t}get colorTransformFilter(){return this._colorTransformFilter||new N.ColorMatrixFilter}}class Tt extends E.Graphics{constructor(t){super(t),this.d=this.drawCommands,this.cp=super.closePath,this.bh=super.beginHole,this.eh=super.endHole,this.m=super.moveTo,this.l=super.lineTo,this.q=super.quadraticCurveTo,this.b=super.bezierCurveTo,this.f=super.beginFill,this.dr=super.drawRect,this.rr=super.drawRoundedRect,this.rc=super.drawRoundedRect,this.dc=super.drawCircle,this.ar=super.arc,this.at=super.arcTo,this.de=super.drawEllipse,this.re=this.setRenderable,this.t=super.setTransform,this.ma=this.setMask,this.a=this.setAlpha,this.i=this.setTint,this.s=super.lineStyle}drawCommands(t){let s;const i=[];let r=0;for(;r<=t.length;){const n=t[r++];n===void 0||this[n]?(s&&(this[s].apply(this,i),i.length=0),s=n):i.push(n)}return this}s(...t){return super.lineStyle(...t)}lf(t){return console.warn("Linear gradient fills are not supported"),this.f(t[0])}rf(t){return console.warn("Radial gradient fills are not supported"),this.f(t[0])}bf(){return console.warn("Bitmap fills are not supported"),this.f(0)}sd(){return console.warn("Dashed strokes are not supported"),this}bs(){return console.warn("Bitmap strokes are not supported"),this}ls(){return console.warn("Linear gradient strokes are not supported"),this}rs(){return console.warn("Radial gradient strokes are not supported"),this}setRenderable(t){return this.renderable=!!t,this}setMask(t){return t&&!(t instanceof E.Graphics)&&!(t instanceof M.Sprite)?(typeof console!="undefined"&&console.warn&&console.warn("Warning: Masks can only be PIXI.Graphics or PIXI.Sprite objects."),this):(this.mask=t,this)}setAlpha(t){return this.alpha=t,this}setTint(t){typeof t=="string"&&(t=_.utils.hexToUint(t));const s=t>>16&255,i=t>>8&255,r=t&255;return this.setColorTransform(s/255,0,i/255,0,r/255,0)}setColorTransform(t,s,i,r,n,h){const a=this.colorTransformFilter;return a.matrix[0]=t,a.matrix[4]=s,a.matrix[6]=i,a.matrix[9]=r,a.matrix[12]=n,a.matrix[14]=h,this.filters=[a],this}c(t,s,i,r,n,h){return this.setColorTransform(t,s,i,r,n,h)}set colorTransformFilter(t){this._colorTransformFilter=t}get colorTransformFilter(){return this._colorTransformFilter||new N.ColorMatrixFilter}}var W=(e=>(e[e.center=0]="center",e[e.right=1]="right",e[e.left=-1]="left",e))(W||{});const Q={o:"font",z:"fontSize",f:"fontFamily",y:"fontStyle",g:"fontWeight",i:"fill",a:"align",s:"stroke",t:"strokeThickness",w:"wordWrap",d:"wordWrapWidth",l:"lineHeight",h:"dropShadow",c:"dropShadowColor",n:"dropShadowAngle",b:"dropShadowBlur",p:"padding",x:"textBaseline",j:"lineJoin",m:"miterLimit",e:"letterSpacing"};function K(e,t){return e===void 0?t:e}class Ft extends ct.Text{constructor(){super(...arguments),this.g=this.setAlign,this.ss=this.setStyle,this.sh=this.setShadow,this.re=this.setRenderable,this.t=super.setTransform,this.ma=this.setMask,this.a=this.setAlpha,this.i=this.setTint,this.c=this.setColorTransform}setAlign(t){return typeof t=="string"&&(t=W[t]),this.style.align=W[t]||"left",this.anchor.x=(t+1)/2,this}setStyle(t){for(const s in Q)t[s]!==void 0&&(t[Q[s]]=t[s],delete t[s]);return this.style=t,this}setShadow(t,s,i){const r=this.style;return r.dropShadow=!0,t&&typeof t=="number"&&(t=`#${t.toString(16)}`),r.dropShadowColor=K(t,r.dropShadowColor),r.dropShadowAngle=K(s,r.dropShadowAngle),r.dropShadowDistance=K(i,r.dropShadowDistance),this}setRenderable(t){return this.renderable=!!t,this}setMask(t){return t&&!(t instanceof E.Graphics)&&!(t instanceof M.Sprite)?(typeof console!="undefined"&&console.warn&&console.warn("Warning: Masks can only be PIXI.Graphics or PIXI.Sprite objects."),this):(this.mask=t,this)}setAlpha(t){return this.alpha=t,this}setTint(t){typeof t=="string"&&(t=_.utils.hexToUint(t));const s=t>>16&255,i=t>>8&255,r=t&255;return this.setColorTransform(s/255,0,i/255,0,r/255,0)}setColorTransform(t,s,i,r,n,h){const a=this.colorTransformFilter;return a.matrix[0]=t,a.matrix[4]=s,a.matrix[6]=i,a.matrix[9]=r,a.matrix[12]=n,a.matrix[14]=h,this.filters=[a],this}set colorTransformFilter(t){this._colorTransformFilter=t}get colorTransformFilter(){return this._colorTransformFilter||new N.ColorMatrixFilter}}const Pt="2.0.5";return _.Animator=Z,_.AnimatorTimeline=C,_.Container=J,_.Graphics=Tt,_.MovieClip=A,_.Scene=ft,_.Sprite=bt,_.Text=Ft,_.Timeline=q,_.Tween=O,_.VERSION=Pt,_.load=H,_.sound=$,_}({},PIXI,PIXI,PIXI,PIXI.utils,PIXI.filters,PIXI,PIXI,PIXI,PIXI,PIXI,PIXI,PIXI);
//# sourceMappingURL=pixi-animate.js.map
